{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["squares","index","date","text","movement","backgroundUrl","missTurn","Player","className","this","props","data","active","name","React","Component","Square","playersSeen","players","forEach","p","numPlayersSeen","Object","values","length","Math","round","playerCount","reveal","calcReveal","classnames","hasData","map","i","key","SquareDetails","square","abs","join","src","alt","getMovementText","getMissedTurnText","onClick","close","Dice","idle","player","roll","title","rolling","value","Setup","state","nameEls","Array","createRef","e","preventDefault","el","current","filter","Boolean","setPlayers","setState","error","prevProps","prevState","setTimeout","focus","onSubmit","bind","_","htmlFor","ref","type","id","App","diceValue","diceIsIdle","active_player","player_positions","missedTurns","find","s","diceIsRolling","finishDiceRoll","max","random","floor","moveActivePlayer","activeSquare","showSquareDetail","SPEED","nextPlayer","delta","callback","currentPosition","finalPosition","newPosition","positions","NUM_SQUARES","winner","moveActivePlayerBy","position","window","location","reload","document","addEventListener","event","keyCode","rollDice","closeSquareDetails","activePlayer","style","background","markActivePlayer","playersOnPosition","undefined","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.d53a0f85.chunk.js","sourcesContent":["import classnames from 'classnames';\nimport React from 'react';\nimport './App.css';\n\n\nconst SPEED = 1000;\nconst NUM_SQUARES = 49;\nconst GAME_NAME = 'Becoming Tim Burners-Lee';\nconst squares = [\n{\n  index: 1,\n  date: 'June 5 1955',\n  text: 'You are born. Well done!',\n  movement: 0,\n},\n{\n  index: 3,\n  date: 'September 27 1969',\n  text: \"You start at secondary school. You're going up in the world!\",\n  movement: 0,\n},\n{\n  index: 5,\n  date: 'May 20 1973',\n  text: 'Hooray! You graduated!',\n  movement: 3,\n},\n{\n  index: 7,\n  date: 'January 1, 1976',\n  text: 'You spend a lot of time designing computer languages. Very clever!',\n  movement: 0,\n},\n{\n  index: 9,\n  date: 'January 1, 1978',\n  text: 'Congratulation, you got a job at D.G. Nash Ltd writing typesetting software',\n  movement: 2,\n},\n{\n  index: 13,\n  date: 'January 1 1980',\n  text: \"You're now working as an independent contractor at CERN in Switzerland building software.\",\n  movement: 0,\n},\n{\n  index: 15,\n  date: 'April 20, 1981',\n  text: 'You have started a new job at John Pooles image computer systems, getting experience in computer networking.',\n  movement: 1,\n},\n{\n  index: 17,\n  date: 'April 20, 1984',\n  text: 'You have gone back to work at CERN as a permanent employee.',\n  movement: 0,\n},\n{\n  index: 19,\n  date: 'January 1, 1990',\n  text: \"Congratulation, you have married Nancy Carlson. She's an American computer programmer and former figure skater (but you know that!).\",\n  movement: 5,\n},\n{\n  index: 21,\n  date: 'January 1, 1990',\n  text: \"You're on the fire â€” at the peak of your career. (Someone had better get a fire extinguisher!)\",\n  movement: 3,\n},\n{\n  index: 23,\n  date: 'August 6 1991',\n  text: 'Exciting times! The first website launched to the public.',\n  movement: 1,\n  backgroundUrl: 'tbl-01.jpg',\n},\n{\n  index: 25,\n  date: 'August 6 1991',\n  text: 'WWWow! The WWW (World Wide Web) has launched!',\n  movement: 3,\n},\n{\n  index: 29,\n  date: 'January 1, 1992',\n  text: 'There are now over 50 web servers in the world',\n  movement: 0,\n},\n{\n  index: 31,\n  date: 'August 20 1993',\n  text: 'The CERN website is getting ten thousand hits a day!',\n  movement: 1,\n},\n{\n  index: 33,\n  date: 'January 1 1994',\n  text: 'You have founded the World Wide Web Consortium (W3C)',\n  movement: 0,\n},\n{\n  index: 35,\n  date: 'April 20 1994',\n  text: 'You have become the 6th member of World Wide Web, to improve standards and allow anyone to access freely.',\n  movement: 1,\n},\n{\n  index: 37,\n  date: 'December 1, 2004',\n  text: 'You have become a professor in the Computer Science Department at University of Southhampton. Smarty pants!',\n  movement: 1,\n},\n{\n  index: 39,\n  date: 'January 1, 2009',\n  text: 'You are working on a project to make UK data more publicly available.',\n  movement: 3,\n},\n{\n  index: 43,\n  date: 'January 1, 2009',\n  text: 'You have launched a charity called World Wide Web Foundation in Uganda.',\n  movement: 0,\n},\n{\n  index: 45,\n  date: 'June 20, 2014',\n  text: 'You have married again, this time to Rosemary Leith.',\n  movement: 1,\n},\n\n{\n  index: 10,\n  text: 'Uh oh! You have dropped your pencil. Clumsy!',\n  movement: -2,\n},\n{\n  index: 22,\n  text: 'You are stuck in a traffic jam on the way to CERN. Beep beep. Sigh.',\n  movement: -2,\n},\n{\n  index: 4,\n  text: 'Your foot has got stuck in a rabbit hole. Someone help!',\n  missTurn: 1,\n},\n{\n  index: 47,\n  text: 'You have forgotten the password for your computer. Try 123456?',\n  movement: -11,\n},\n{\n  index: 18,\n  text: \"Disaster! CERN has run out of coffee so you can't wake up. Yawn!\",\n  missTurn: 1,\n},\n{\n  index: 27,\n  text: \"You arrive at CERN and realise you are still in your PJ's. Oops!\",\n  movement: -7,\n},\n{\n  index: 41,\n  text: \"You forgot to have a shower, and are stinking out the whole university!\",\n  movement: -5,\n},\n{\n  index: 38,\n  text: \"You fell asleep in your own lecture.\",\n  movement: -6,\n},\n{\n  index: 44,\n  text: \"You have caught a cold.\",\n  missTurn: 1,\n},\n];\nconst BOARD_BACKGROUND_URL = '/background.jpeg';\n\n/***********************/\n\nclass Player extends React.Component {\n  render() {\n    return <span className={`Player Player--${this.props.data.index}` + (this.props.data.active ? ' Player--active' : ' Player--inactive')}>\n      {this.props.data.name}\n    </span>\n  }\n}\n\nclass Square extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playersSeen = {};\n  }\n\n  hasData() {\n    return !!this.props.data.index;\n  }\n\n  calcReveal(players) {\n    this.props.players.forEach(p => this.playersSeen[p.index] = true);\n    const numPlayersSeen = Object.values(this.playersSeen).length;\n    return Math.round((numPlayersSeen / this.props.playerCount) * 4)/0.04;\n  }\n\n  render() {\n    const reveal = this.calcReveal();\n    return <li className={classnames({\n        Square: true,\n        'Square--is-good': this.hasData(),\n        'Square--is-bad': this.props.data.movement < 0 || this.props.data.missTurn,\n        'Square--reveal25': reveal === 25,\n        'Square--reveal50': reveal === 50,\n        'Square--reveal75': reveal === 75,\n        'Square--reveal100': reveal === 100,\n      })}>\n      <h3>{this.props.index+1}</h3>\n      {this.props.data.date ? <div>{this.props.data.date}</div> : ''}\n      {/*<div>{this.props.data.text}</div>*/}\n      <div className=\"square_players\">\n        {this.props.players.map((p, i) => <Player data={p} key={i} />)}\n      </div>\n    </li>;\n  }\n}\n\nclass SquareDetails extends React.Component {\n  getMovementText() {\n    if (!this.props.square.movement) {\n      return;\n    }\n    return <p>\n      {[\n        this.props.square.movement < 0\n          ? 'Go back'\n          : 'Move forward',\n        Math.abs(this.props.square.movement),\n        Math.abs(this.props.square.movement) === 1\n          ? 'space.'\n          : 'spaces.'\n      ].join(' ')}\n    </p>\n  }\n\n  getMissedTurnText() {\n    if (!this.props.square.missTurn) {\n      return;\n    }\n    return <p>\n      {[\n        'Miss',\n        Math.abs(this.props.square.missTurn) === 1\n          ? 'a turn.'\n          : `${this.props.square.missTurn} turns.`\n      ].join(' ')}\n    </p>\n  }\n\n  render() {\n    return <div className=\"SquareDetails modal\">\n      {this.props.square.date ? <h3>{this.props.square.date}</h3> : ''}\n      {this.props.square.backgroundUrl ? <img src={this.props.square.backgroundUrl} alt=\"\" /> : ''}\n      <p>{this.props.square.text}</p>\n      {this.getMovementText()}\n      {this.getMissedTurnText()}\n      <button onClick={this.props.close}>OK</button>\n    </div>\n  }\n}\n\nclass Dice extends React.Component {\n  render() {\n    if (this.props.idle) {\n      return <div className={`Dice Dice--idle Player--${this.props.player.index}`} onClick={this.props.roll} title=\"Click or press space to roll\"></div>\n    } else if (this.props.rolling) {\n      return <div className={`Dice Dice--rolling Player--${this.props.player.index}`}></div>\n    } else {\n      return <div className={`Dice Player--${this.props.player.index}`}>{this.props.value}</div>\n    }\n  }\n}\n\nclass Setup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.nameEls = [...Array(4)].map(() => React.createRef());\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const players = this.nameEls\n      .map(el => el.current.value)\n      .filter(Boolean)\n      .map((name, index) => ({ index, name }));\n    if (players.length === 0) {\n      this.setState({\n        error: 'You must enter at least one player name',\n      });\n      return;\n    }\n    this.props.setPlayers(players);\n  }\n\n  componentDidMount(prevProps, prevState) {\n    setTimeout(() => this.nameEls[0].current.focus(), 0);\n  }\n\n  render() {\n    return <form className=\"Setup\" onSubmit={this.onSubmit.bind(this)}>\n      <h1>{GAME_NAME}</h1>\n      {this.state.error ? <div className=\"error\">{this.state.error}</div> : ''}\n      {this.nameEls.map((_, i) =>\n        <div key={i}>\n          <label htmlFor={`player${i}`}>Player {i+1}: </label>\n          <input ref={this.nameEls[i]} type=\"text\" id={`player${i}`}  />\n        </div>\n      )}\n      <button type=\"submit\">Go!</button>\n    </form>;\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      diceValue: 1,\n      diceIsIdle: true,\n      active_player: 0,\n      player_positions: [],\n      missedTurns: {},\n      // remove for testing:\n      // players: [\n      //   { index: 0, name: 'Alice' },\n      //   { index: 1, name: 'Bob' },\n      //   { index: 2, name: 'Charlie' }\n      // ],\n      // player_positions: [0,0,0],\n    };\n  }\n\n  activeSquare() {\n    return squares.find(s =>\n      this.state.player_positions[this.state.active_player] === s.index\n    );\n  }\n\n  activePlayer() {\n    return this.state.players[this.state.active_player];\n  }\n\n  rollDice() {\n    this.setState({\n      diceIsIdle: false,\n      diceIsRolling: true,\n    }, () => {\n      setTimeout(this.finishDiceRoll.bind(this), SPEED * Math.max(0.2,Math.random()));\n    });\n  }\n\n  finishDiceRoll() {\n    const diceValue = Math.floor(Math.random() * 6 + 1);\n    this.setState({\n      diceIsRolling: false,\n      diceValue,\n    }, () => {\n      setTimeout(this.moveActivePlayer.bind(this, null, () => {\n        if (this.activeSquare()) {\n          setTimeout(this.showSquareDetail.bind(this), SPEED * 0.5);\n        } else {\n          setTimeout(this.nextPlayer.bind(this), SPEED/2);\n        }\n      }), SPEED/2);\n    });\n  }\n\n  moveActivePlayerBy(delta, callback) {\n    const positions = this.state.player_positions;\n    const currentPosition = positions[this.state.active_player];\n    this.moveActivePlayer(currentPosition + delta, callback);\n  }\n\n  moveActivePlayer(finalPosition, callback) {\n    const positions = this.state.player_positions;\n    const currentPosition = positions[this.state.active_player];\n    if (!finalPosition) {\n      finalPosition = currentPosition + this.state.diceValue;\n    }\n    let newPosition;\n    if (finalPosition < currentPosition) {\n      newPosition = currentPosition - 1;\n    } else {\n      newPosition = currentPosition + 1;\n    }\n    // don't go passed last square\n    if (newPosition > NUM_SQUARES-1) {\n      newPosition = NUM_SQUARES-1;\n    } else if (newPosition < 0) {\n      newPosition = 0;\n    }\n    positions[this.state.active_player] = newPosition;\n\n    // Winner!\n    if (newPosition === NUM_SQUARES-1) {\n      this.setState({\n        player_positions: positions,\n      }, () => {\n        setTimeout(() => {\n          this.setState({ winner: this.state.active_player });\n        }, 500);\n      });\n      return;\n    }\n\n    this.setState({\n      player_positions: positions,\n    }, () => {\n      if (newPosition === finalPosition) {\n        callback();\n      } else {\n        setTimeout(() => this.moveActivePlayer(finalPosition, callback), SPEED/5);\n      }\n    });\n  }\n\n  showSquareDetail() {\n    this.setState({\n      showSquareDetail: true,\n    })\n  }\n\n  nextPlayer() {\n    let nextPlayer = this.state.active_player + 1;\n    if (nextPlayer > this.state.players.length-1) {\n      nextPlayer = 0;\n    }\n    const missedTurns = this.state.missedTurns;\n    if (missedTurns[nextPlayer] > 0) {\n      missedTurns[nextPlayer]--;\n      this.setState({\n        active_player: nextPlayer,\n        missedTurns,\n      },\n        () => this.nextPlayer()\n      )\n      return;\n    }\n    this.setState({\n      active_player: nextPlayer,\n      diceIsIdle: true,\n    })\n  }\n\n  closeSquareDetails() {\n    this.setState({\n      showSquareDetail: false,\n    }, () => {\n      setTimeout(() => {\n        if (this.activeSquare().movement) {\n          this.moveActivePlayerBy(\n            this.activeSquare().movement,\n            () => setTimeout(this.nextPlayer.bind(this), SPEED)\n          );\n        } else if (this.activeSquare().missTurn) {\n          const missedTurns = this.state.missedTurns;\n          if (!missedTurns[this.state.active_player]) {\n            missedTurns[this.state.active_player] = 0;\n          }\n          missedTurns[this.state.active_player]++;\n          this.setState(\n            { missedTurns },\n            () => setTimeout(this.nextPlayer.bind(this), SPEED)\n          );\n        } else {\n          setTimeout(this.nextPlayer.bind(this), SPEED/2);\n        }\n      }, SPEED*0.1);\n    });\n  }\n\n  setPlayers(players) {\n    this.setState({\n      players,\n      player_positions: players.map(p => 0),\n    });\n  }\n\n  playersOnPosition(position) {\n    return this.state.players\n      .filter(p => this.state.player_positions[p.index] === position);\n  }\n\n  markActivePlayer(players) {\n    return players\n      .map(p => ({...p, active: this.state.active_player === p.index}));\n  }\n\n  reload() {\n    window.location.reload();\n  }\n\n  componentDidMount() {\n    document.addEventListener('keypress', event => {\n      if (!this.state.players) {\n        return;\n      }\n      // space\n      if (this.state.diceIsIdle && event.keyCode === 32) {\n        this.rollDice();\n        event.preventDefault();\n        return;\n      };\n      // return\n      if (this.state.showSquareDetail && event.keyCode === 13) {\n        this.closeSquareDetails();\n        event.preventDefault();\n        return;\n      };\n      // return\n      if (this.state.winner != null && event.keyCode === 13) {\n        this.reload();\n        event.preventDefault();\n        return;\n      };\n    })\n  }\n\n  render() {\n    if (this.state.players) {\n      return <div className=\"App\">\n        <h1>{GAME_NAME}</h1>\n        <p>{this.activePlayer().name}'s turn to roll the dice</p>\n        <Dice\n          value={this.state.diceValue}\n          idle={this.state.diceIsIdle}\n          rolling={this.state.diceIsRolling}\n          roll={this.rollDice.bind(this)}\n          player={this.activePlayer()}\n        />\n        {this.state.winner != null\n          ? <div className=\"Mask\">\n              <div className=\"Winner modal\">\n                <h2>Congratulations, {this.activePlayer().name}, you are now Tim Burners-Lee!</h2>\n                <p>Tim Burners-Lee is the winner.</p>\n                <div>\n                  <button onClick={this.reload}>Play again</button>\n                </div>\n              </div>\n            </div>\n         : ''}\n        <ol className=\"Board\" style={{ background: `url(${BOARD_BACKGROUND_URL})` }}>\n          {[...Array(NUM_SQUARES)].map((_, index) =>\n            <Square\n              key={index}\n              index={index}\n              data={squares.find(s => s.index === index) || {}}\n              playerCount={this.state.players.length}\n              players={this.markActivePlayer(this.playersOnPosition(index))}\n            />\n          )}\n        </ol>\n        {this.state.showSquareDetail && this.activeSquare()\n          ? <div className=\"Mask\">\n              <SquareDetails square={this.activeSquare()} close={this.closeSquareDetails.bind(this)} />\n          </div>\n          : undefined\n        }\n      </div>\n    } else {\n      return <div className=\"App\">\n        <Setup setPlayers={this.setPlayers.bind(this)} />\n      </div>;\n    }\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}