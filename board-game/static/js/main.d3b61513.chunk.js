(this["webpackJsonpboard-game"]=this["webpackJsonpboard-game"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),s=a.n(i),o=(a(15),a(6)),l=a(5),u=a(1),c=a(2),m=a(4),d=a(3),p=a(9),h=a.n(p),v=(a(16),[{index:1,date:"June 5 1955",text:"You are born. Well done!",movement:0},{index:3,date:"September 27 1969",text:"You start at secondary school. You're going up in the world!",movement:0},{index:5,date:"May 20 1973",text:"Hooray! You graduated!",movement:3},{index:7,date:"January 1, 1976",text:"You spend a lot of time designing computer languages. Very clever!",movement:0},{index:9,date:"January 1, 1978",text:"Congratulation, you got a job at D.G. Nash Ltd writing typesetting software",movement:2},{index:13,date:"January 1 1980",text:"You're now working as an independent contractor at CERN in Switzerland building software.",movement:0},{index:15,date:"April 20, 1981",text:"You have started a new job at John Pooles image computer systems, getting experience in computer networking.",movement:1},{index:17,date:"April 20, 1984",text:"You have gone back to work at CERN as a permanent employee.",movement:0},{index:19,date:"January 1, 1990",text:"Congratulation, you have married Nancy Carlson. She's an American computer programmer and former figure skater (but you know that!).",movement:5},{index:21,date:"January 1, 1990",text:"You're on the fire \u2014 at the peak of your career. (Someone had better get a fire extinguisher!)",movement:3},{index:23,date:"August 6 1991",text:"Exciting times! The first website launched to the public.",movement:1,backgroundUrl:"tbl-01.jpg"},{index:25,date:"August 6 1991",text:"WWWow! The WWW (World Wide Web) has launched!",movement:3},{index:29,date:"January 1, 1992",text:"There are now over 50 web servers in the world",movement:0},{index:31,date:"August 20 1993",text:"The CERN website is getting ten thousand hits a day!",movement:1},{index:33,date:"January 1 1994",text:"You have founded the World Wide Web Consortium (W3C)",movement:0},{index:35,date:"April 20 1994",text:"You have become the 6th member of World Wide Web, to improve standards and allow anyone to access freely.",movement:1},{index:37,date:"December 1, 2004",text:"You have become a professor in the Computer Science Department at University of Southhampton. Smarty pants!",movement:1},{index:39,date:"January 1, 2009",text:"You are working on a project to make UK data more publicly available.",movement:3},{index:43,date:"January 1, 2009",text:"You have launched a charity called World Wide Web Foundation in Uganda.",movement:0},{index:45,date:"June 20, 2014",text:"You have married again, this time to Rosemary Leith.",movement:1},{index:10,text:"Uh oh! You have dropped your pencil. Clumsy!",movement:-2},{index:22,text:"You are stuck in a traffic jam on the way to CERN. Beep beep. Sigh.",movement:-2},{index:4,text:"Your foot has got stuck in a rabbit hole. Someone help!",missTurn:1},{index:47,text:"You have forgotten the password for your computer. Try 123456?",movement:-11},{index:18,text:"Disaster! CERN has run out of coffee so you can't wake up. Yawn!",missTurn:1},{index:27,text:"You arrive at CERN and realise you are still in your PJ's. Oops!",movement:-7},{index:41,text:"You forgot to have a shower, and are stinking out the whole university!",movement:-5},{index:38,text:"You fell asleep in your own lecture.",movement:-6},{index:44,text:"You have caught a cold.",missTurn:1}]),y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:"Player Player--".concat(this.props.data.index)+(this.props.data.active?" Player--active":" Player--inactive")},this.props.data.name)}}]),a}(r.a.Component),f=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).playersSeen={},n}return Object(c.a)(a,[{key:"hasData",value:function(){return!!this.props.data.index}},{key:"calcReveal",value:function(e){var t=this;this.props.players.forEach((function(e){return t.playersSeen[e.index]=!0}));var a=Object.values(this.playersSeen).length;return Math.round(a/this.props.playerCount*4)/.04}},{key:"render",value:function(){var e=this.calcReveal();return r.a.createElement("li",{className:h()({Square:!0,"Square--is-good":this.hasData(),"Square--is-bad":this.props.data.movement<0||this.props.data.missTurn,"Square--reveal25":25===e,"Square--reveal50":50===e,"Square--reveal75":75===e,"Square--reveal100":100===e})},r.a.createElement("h3",null,this.props.index+1),this.props.data.date?r.a.createElement("div",null,this.props.data.date):"",r.a.createElement("div",{className:"square_players"},this.props.players.map((function(e,t){return r.a.createElement(y,{data:e,key:t})}))))}}]),a}(r.a.Component),b=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"getMovementText",value:function(){if(this.props.square.movement)return r.a.createElement("p",null,[this.props.square.movement<0?"Go back":"Move forward",Math.abs(this.props.square.movement),1===Math.abs(this.props.square.movement)?"space.":"spaces."].join(" "))}},{key:"getMissedTurnText",value:function(){if(this.props.square.missTurn)return r.a.createElement("p",null,["Miss",1===Math.abs(this.props.square.missTurn)?"a turn.":"".concat(this.props.square.missTurn," turns.")].join(" "))}},{key:"render",value:function(){return r.a.createElement("div",{className:"SquareDetails modal"},this.props.square.date?r.a.createElement("h3",null,this.props.square.date):"",this.props.square.backgroundUrl?r.a.createElement("img",{src:this.props.square.backgroundUrl,alt:""}):"",r.a.createElement("p",null,this.props.square.text),this.getMovementText(),this.getMissedTurnText(),r.a.createElement("button",{onClick:this.props.close},"OK"))}}]),a}(r.a.Component),x=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return this.props.idle?r.a.createElement("div",{className:"Dice Dice--idle Player--".concat(this.props.player.index),onClick:this.props.roll,title:"Click or press space to roll"}):this.props.rolling?r.a.createElement("div",{className:"Dice Dice--rolling Player--".concat(this.props.player.index)}):r.a.createElement("div",{className:"Dice Player--".concat(this.props.player.index)},this.props.value)}}]),a}(r.a.Component),g=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n.nameEls=Object(l.a)(Array(4)).map((function(){return r.a.createRef()})),n}return Object(c.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault();var t=this.nameEls.map((function(e){return e.current.value})).filter(Boolean).map((function(e,t){return{index:t,name:e}}));0!==t.length?this.props.setPlayers(t):this.setState({error:"You must enter at least one player name"})}},{key:"componentDidMount",value:function(e,t){var a=this;setTimeout((function(){return a.nameEls[0].current.focus()}),0)}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"Setup",onSubmit:this.onSubmit.bind(this)},r.a.createElement("h1",null,"Becoming Tim Burners-Lee"),this.state.error?r.a.createElement("div",{className:"error"},this.state.error):"",this.nameEls.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("label",{htmlFor:"player".concat(a)},"Player ",a+1,": "),r.a.createElement("input",{ref:e.nameEls[a],type:"text",id:"player".concat(a)}))})),r.a.createElement("button",{type:"submit"},"Go!"))}}]),a}(r.a.Component),k=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={diceValue:1,diceIsIdle:!0,active_player:0,player_positions:[],missedTurns:{}},n}return Object(c.a)(a,[{key:"activeSquare",value:function(){var e=this;return v.find((function(t){return e.state.player_positions[e.state.active_player]===t.index}))}},{key:"activePlayer",value:function(){return this.state.players[this.state.active_player]}},{key:"rollDice",value:function(){var e=this;this.setState({diceIsIdle:!1,diceIsRolling:!0},(function(){setTimeout(e.finishDiceRoll.bind(e),1e3*Math.max(.2,Math.random()))}))}},{key:"finishDiceRoll",value:function(){var e=this,t=Math.floor(6*Math.random()+1);this.setState({diceIsRolling:!1,diceValue:t},(function(){setTimeout(e.moveActivePlayer.bind(e,null,(function(){e.activeSquare()?setTimeout(e.showSquareDetail.bind(e),500):setTimeout(e.nextPlayer.bind(e),500)})),500)}))}},{key:"moveActivePlayerBy",value:function(e,t){var a=this.state.player_positions[this.state.active_player];this.moveActivePlayer(a+e,t)}},{key:"moveActivePlayer",value:function(e,t){var a,n=this,r=this.state.player_positions,i=r[this.state.active_player];e||(e=i+this.state.diceValue),(a=e<i?i-1:i+1)>48?a=48:a<0&&(a=0),r[this.state.active_player]=a,48!==a?this.setState({player_positions:r},(function(){a===e?t():setTimeout((function(){return n.moveActivePlayer(e,t)}),200)})):this.setState({player_positions:r},(function(){setTimeout((function(){n.setState({winner:n.state.active_player})}),500)}))}},{key:"showSquareDetail",value:function(){this.setState({showSquareDetail:!0})}},{key:"nextPlayer",value:function(){var e=this,t=this.state.active_player+1;t>this.state.players.length-1&&(t=0);var a=this.state.missedTurns;if(a[t]>0)return a[t]--,void this.setState({active_player:t,missedTurns:a},(function(){return e.nextPlayer()}));this.setState({active_player:t,diceIsIdle:!0})}},{key:"closeSquareDetails",value:function(){var e=this;this.setState({showSquareDetail:!1},(function(){setTimeout((function(){if(e.activeSquare().movement)e.moveActivePlayerBy(e.activeSquare().movement,(function(){return setTimeout(e.nextPlayer.bind(e),1e3)}));else if(e.activeSquare().missTurn){var t=e.state.missedTurns;t[e.state.active_player]||(t[e.state.active_player]=0),t[e.state.active_player]++,e.setState({missedTurns:t},(function(){return setTimeout(e.nextPlayer.bind(e),1e3)}))}else setTimeout(e.nextPlayer.bind(e),500)}),100)}))}},{key:"setPlayers",value:function(e){this.setState({players:e,player_positions:e.map((function(e){return 0}))})}},{key:"playersOnPosition",value:function(e){var t=this;return this.state.players.filter((function(a){return t.state.player_positions[a.index]===e}))}},{key:"markActivePlayer",value:function(e){var t=this;return e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{active:t.state.active_player===e.index})}))}},{key:"reload",value:function(){window.location.reload()}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keypress",(function(t){if(e.state.players)return e.state.diceIsIdle&&32===t.keyCode?(e.rollDice(),void t.preventDefault()):e.state.showSquareDetail&&13===t.keyCode?(e.closeSquareDetails(),void t.preventDefault()):null!=e.state.winner&&13===t.keyCode?(e.reload(),void t.preventDefault()):void 0}))}},{key:"render",value:function(){var e=this;return this.state.players?r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Becoming Tim Burners-Lee"),r.a.createElement("p",null,this.activePlayer().name,"'s turn to roll the dice"),r.a.createElement(x,{value:this.state.diceValue,idle:this.state.diceIsIdle,rolling:this.state.diceIsRolling,roll:this.rollDice.bind(this),player:this.activePlayer()}),null!=this.state.winner?r.a.createElement("div",{className:"Mask"},r.a.createElement("div",{className:"Winner modal"},r.a.createElement("h2",null,"Congratulations, ",this.activePlayer().name,", you are now Tim Burners-Lee!"),r.a.createElement("p",null,"Tim Burners-Lee is the winner."),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.reload},"Play again")))):"",r.a.createElement("ol",{className:"Board",style:{background:"url(".concat("background.jpeg",")")}},Object(l.a)(Array(49)).map((function(t,a){return r.a.createElement(f,{key:a,index:a,data:v.find((function(e){return e.index===a}))||{},playerCount:e.state.players.length,players:e.markActivePlayer(e.playersOnPosition(a))})}))),this.state.showSquareDetail&&this.activeSquare()?r.a.createElement("div",{className:"Mask"},r.a.createElement(b,{square:this.activeSquare(),close:this.closeSquareDetails.bind(this)})):void 0):r.a.createElement("div",{className:"App"},r.a.createElement(g,{setPlayers:this.setPlayers.bind(this)}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.d3b61513.chunk.js.map